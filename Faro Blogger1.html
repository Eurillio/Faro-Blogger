<!doctype html>
<html lang="it">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Faro Blog Prompter v7.1 - Contenuto in una Finestra</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23111'%3e%3cpath d='M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61-.25-1.17-.59-1.69-.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49-.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12-.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49.42l.38-2.65c.61.25 1.17-.59 1.69.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z'/%3e%3c/svg%3e">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <h1 class="text-3xl font-bold text-center mb-6 text-gray-800">Faro Blog Prompter v7.1 - Contenuto in una Finestra</h1>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
            <!-- Colonna 1: Definisci Contenuto -->
            <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col h-full">
                <fieldset class="flex flex-col gap-4">
                    <legend class="text-xl font-bold mb-2 text-gray-700">1. Definisci il Contenuto</legend>
                    <div class="flex flex-col">
                        <label for="macro" class="text-sm font-semibold mb-1 text-gray-600">Macroargomento</label>
                        <select id="macro" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            <option value="Occhialeria">Occhialeria</option>
                            <option value="Gioielleria">Gioielleria</option>
                        </select>
                    </div>
                    <div class="flex flex-col">
                        <label for="argomento" class="text-sm font-semibold mb-1 text-gray-600">Argomento</label>
                        <input id="argomento" list="argomenti-list" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Es: News, Tecnologia, Fiere..." />
                        <datalist id="argomenti-list"></datalist>
                    </div>
                    <div class="flex flex-col">
                        <label for="topic" class="text-sm font-semibold mb-1 text-gray-600">Topic</label>
                        <input id="topic" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Focus preciso del post..." />
                    </div>
                </fieldset>
            </div>

            <!-- Colonna 2: Seleziona Stile e Opzioni -->
            <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col h-full">
                <fieldset class="flex flex-col gap-4">
                    <legend class="text-xl font-bold mb-2 text-gray-700">2. Seleziona Stile e Opzioni</legend>
                    <div class="flex flex-col">
                        <label for="tone" class="text-sm font-semibold mb-1 text-gray-600">Tono di Voce</label>
                        <select id="tone" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            <option value="entusiasta e visionario">entusiasta e visionario</option>
                            <option value="professionale e chiaro">professionale e chiaro</option>
                            <option value="tecnico e autorevole">tecnico e autorevole</option>
                            <option value="istituzionale">istituzionale</option>
                            <option value="Dietro le quinte (racconto dal dentro i fatti per esperienza diretta)">Dietro le quinte</option>
                        </select>
                    </div>
                    <div class="flex flex-col">
                        <label for="wordCount" class="text-sm font-semibold mb-1 text-gray-600">Lunghezza Articolo</label>
                        <select id="wordCount" class="p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors">
                            <option value="400-600">Standard (400–600 parole)</option>
                            <option value="800-1000">Approfondito (800–1000 parole)</option>
                            <option value="1200-1500">Pillar (1200–1500 parole)</option>
                        </select>
                    </div>
                    <div class="flex flex-col mt-auto">
                        <div class="flex items-center gap-2">
                            <input type="checkbox" id="includeLinkedIn" class="form-checkbox text-blue-600 h-4 w-4 rounded" />
                            <label for="includeLinkedIn" class="text-sm text-gray-700 font-medium">Includi Post LinkedIn</label>
                        </div>
                        <div class="flex items-center gap-2 mt-2">
                            <input type="checkbox" id="includeImage" class="form-checkbox text-blue-600 h-4 w-4 rounded" />
                            <label for="includeImage" class="text-sm text-gray-700 font-medium">Genera immagine</label>
                        </div>
                    </div>
                </fieldset>
            </div>

            <!-- Colonna 3: Azioni -->
            <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 flex flex-col items-center justify-center">
                <h2 class="text-xl font-bold mb-4 text-gray-700">3. Azioni</h2>
                <button id="generate" class="w-full bg-black text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md">
                    Crea prompt e Contenuto
                </button>
            </div>
        </div>
        
        <div id="loading-indicator" class="text-center text-lg font-semibold text-gray-600 my-4 hidden">
            Generazione in corso...
        </div>

        <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 mt-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-xl font-bold text-gray-700">Output Completo</h2>
                <div class="space-x-2">
                    <button id="copy" class="px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-regular fa-copy"></i> Copia
                    </button>
                    <button id="download" class="px-4 py-2 text-sm bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <i class="fa-solid fa-download"></i> Scarica .txt
                    </button>
                </div>
            </div>
            <textarea id="output" rows="20" class="w-full p-4 border border-gray-300 rounded-lg font-mono text-sm" readonly placeholder="Il prompt e il contenuto generato appariranno qui..."></textarea>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const config = {
                macros: ["Occhialeria", "Gioielleria"],
                argomenti: ["News", "Tecnologia", "Fiere", "AI", "Tendenze", "Mercato e Business"],
                toni: [
                    "entusiasta e visionario", "professionale e chiaro", "tecnico e autorevole",
                    "istituzionale", "Dietro le quinte (racconto dal dentro i fatti per esperienza diretta)",
                ],
            };

            const dom = {
                macro: document.getElementById('macro'),
                argomento: document.getElementById('argomento'),
                argomentiList: document.getElementById('argomenti-list'),
                topic: document.getElementById('topic'),
                tone: document.getElementById('tone'),
                wordCount: document.getElementById('wordCount'),
                output: document.getElementById('output'),
                generate: document.getElementById('generate'),
                copy: document.getElementById('copy'),
                download: document.getElementById('download'),
                includeLinkedIn: document.getElementById('includeLinkedIn'),
                includeImage: document.getElementById('includeImage'),
                loading: document.getElementById('loading-indicator')
            };

            const promptBuilder = {
                getCoreInstructions(params) {
                    return `Sei un esperto di marketing e un copywriter per il settore "${params.macro}".
Crea un post per il blog del sito farocnc.com. Cerca informazioni sia tecniche che commerciali in tutte le pubblicazioni online mondiali che si riferiscono a ${params.macro}.
Cerca e considera anche informazioni e dati che si riferiscono a tutti i player più importanti e conosciuti inerenti a ${params.macro}. Analizza tutte le news a livello mondiale che riguardano ${params.macro} e ${params.argomento}.
Estrapola tutte le news che rispetto a ${params.macro} si riferiscono a date da oggi fino a 6 mesi in avanti. Allunga il contenuto fino a ${params.wordCount} parole, inserendo dettagli su trend, tecnologie e opportunità di business, in modo diretto o indiretto a Tecnologia.
Topic specifico: ${params.topic || params.argomento}.
`;
                },
                getFaroContextClause() {
                    return `
---
CONTESTO INTERNO FARO (da usare ma non citare):
**Partnership Strategiche:**
- **Turchia:** Piramit (https://www.piramtek.com/), rivenditore storico dal 2003. Oltre 60 macchine installate.
- **UAE & India:** Bijouxtec e Milano Enterprises, guidate da Mr. Harry Gidwani (harry@bijouxtec.com, WhatsApp: +91 98204 12715).

**Calendario Fiere Confermato 2025-2026:**
1.  **JGPEC India**
    - Date: 31 luglio – 3 agosto 2025
    - Luogo: JIO World Convention Center, Mumbai, India
    - Presenza Faro: Con Mr. Harry Gidwani
    - Stand: 6G619B
    - Link: https://intl.gjepc.org/
2.  **Istanbul Jewelry Show**
    - Date: 1-4 ottobre 2025
    - Luogo: CNR Expo, Istanbul, Turchia
    - Presenza Faro: Con distributore Piramit
    - Stand: IG50
    - Link: https://www.istanbuljewelryshow.com/
3.  **JGTD Dubai**
    - Date: 11-13 novembre 2025
    - Luogo: Dubai Exhibition Centre, Dubai, UAE
    - Presenza Faro: Stand proprio
    - Stand: SC46
    - Attività Speciali: Demo live F1 & F35, lancio Faro Academy Dubai (DMCC).
    - Link: https://www.jgtdubaijewelleryshow.com/
4.  **Jewel of Saudi**
    - Date: 15-17 dicembre 2025
    - Luogo: Jeddah International Exhibition and Convention Center, Arabia Saudita
    - Presenza Faro: Rappresentata da Mr. Harry Gidwani e dall'Export Manager Enrico Guidi.
    - Link: https://jewelofsaudi.com/
5.  **VicenzaOro / T.Gold**
    - Date: 16-20 gennaio 2026
    - Luogo: Fiera di Vicenza, Italia
    - Presenza Faro: Partecipazione diretta alla più importante fiera europea del settore.
    - Link: https://www.vicenzaoro.com/it/t.gold
6.  **MIDO Eyewear Show**
    - Date: 31 gennaio – 2 febbraio 2026
    - Luogo: Fiera Milano Rho, Italia
    - Presenza Faro: Esposizione soluzioni CNC per l’occhialeria.
    - Link: https://www.mido.com/
---
Usa queste informazioni per arricchire l'analisi e per rispondere alla richiesta del calendario, ma NON menzionare mai l'esistenza di questo "contesto interno" nel post finale.
`;
                },
                getCalendarClause(params) {
                    return `Produci un CALENDARIO COMPLETO delle fiere globali del settore ${params.macro} dei PROSSIMI 6 MESI. Assicurati che le fiere siano strettamente legate ai macchinari CNC per il settore "${params.macro}" e non ad argomenti secondari di altri settori.
Organizza per mese, ordina cronologicamente, e per ogni evento inserisci: nome ufficiale, date, città, sede, link ufficiale. Nello stesso calendario, EVIDENZIA con chiarezza gli eventi in cui è prevista la presenza di FARO (diretta o tramite partner). Per ogni evento, menziona i dettagli della partecipazione di FARO, includendo il nome del partner, il numero dello stand, il nome delle persone presenti (es. Mr. Harry Gidwani, Enrico Guidi) e le attività speciali (es. demo live, lancio Faro Academy Dubai), utilizzando le informazioni fornite nel CONTESTO INTERNO. Includi solo eventi futuri (da oggi a +6 mesi) e verifica i link sui siti ufficiali degli organizer.
`;
                },
                getOutputStructure(params) {
                    let structure = `Con queste informazioni e chiavi di ricerca, crea un post che tenga conto di questa base dati riferendoti a ${params.topic || params.argomento}.
Il testo deve contenere link a fonti esterne ufficiali (fiere, organizer) e includere almeno un link a farocnc.com. NON menzionare documenti interni usati per l’analisi.
Scrivi nell'ordine esatto:
1) Contenuto in ITALIANO:
[INIZIO TESTO ITALIANO]
Post in ITALIANO, tono ${params.tone}, linguaggio semplice e assertivo ma coinvolgente, adatto a blog aziendali, forma attiva e parole di transizione.
[FINE TESTO ITALIANO]
2) Contenuto in INGLESE:
[INIZIO TESTO INGLESE]
Traduzione in INGLESE formattata in HTML (H1, H2, H3, P). Mantieni contenuto e struttura.
[FINE TESTO INGLESE]
3) Metadati SEO:
[INIZIO METADATI SEO]
Specifiche SEO in inglese: focus keyphrase, slug (kebab-case), meta description (max 155 caratteri), con parole SEO che indicizzano la pagina www.farocnc.com e i suoi contenuti.
[FINE METADATI SEO]`;

                    if (params.includeLinkedIn) {
                        structure += `\n4) Post LinkedIn:\n[INIZIO POST LINKEDIN]\nRielaborazione breve per LinkedIn (max 800 caratteri), con highlight del calendario 6 mesi e delle tappe Faro. Aggiungi l'autore: Enrico Guidi e poi il link: www.farocnc.com\n[FINE POST LINKEDIN]`;
                    }
                    
                    if (params.includeImage) {
                        const imagePrompts = this.getImagePrompts(params);
                        structure += `\n5) Prompt per Immagini:\n[INIZIO PROMPT IMMAGINI]
Prompt 1: ${imagePrompts.prompt1}
Prompt 2: ${imagePrompts.prompt2}
Prompt 3: ${imagePrompts.prompt3}
[FINE PROMPT IMMAGINI]`;
                    }

                    return structure;
                },
                getImagePrompts(params) {
                    const industry = params.macro;
                    const baseParams = "hyper-realistic, 8K, ultra-detailed, photorealistic, professional photography, cinematic lighting, sharp focus, aspect ratio 4:3";
                    return {
                        prompt1: `A modern and bright exhibition stand featuring a next-gen CNC machine in operation. The machine's robotic arm precisely engraves a metal piece for the "${industry}" sector. In the blurred background, business people in professional attire are discussing. The atmosphere is high-tech and corporate. ${baseParams}`,
                        prompt2: `A macro close-up of a luxury product from the "${industry}" sector (e.g., a diamond ring, a designer eyewear hinge) resting on a dark, reflective surface. Studio lighting highlights every detail, the brilliance of the materials and the perfection of the craftsmanship. Minimalist, elegant, and clean style. ${baseParams}`,
                        prompt3: `A designer's hand with a transparent holographic tablet, designing a complex object related to the "${industry}" sector. A 3D hologram of the product floats above the screen. The background is a modern, luminous design lab, with a mix of technology and natural elements. The image should convey innovation, creativity, and a realistic future. ${baseParams}`
                    };
                }
            };

            const ui = {
                fillSelect(selectElement, optionsArray) {
                    selectElement.innerHTML = optionsArray.map(option => `<option value="${option}">${option}</option>`).join('');
                },
                fillDataList(dataListElement, optionsArray) {
                    dataListElement.innerHTML = optionsArray.map(option => `<option value="${option}">`).join('');
                },
                updateButtonState(isLoading = false) {
                    dom.generate.disabled = isLoading;
                    dom.copy.disabled = isLoading || dom.output.value.trim() === '';
                    dom.download.disabled = isLoading || dom.output.value.trim() === '';
                    if (isLoading) {
                        dom.generate.textContent = 'Generazione in corso...';
                        dom.loading.classList.remove('hidden');
                    } else {
                        dom.generate.textContent = 'Crea prompt e Contenuto';
                        dom.loading.classList.add('hidden');
                    }
                },
                initialize() {
                    this.fillSelect(dom.macro, config.macros);
                    this.fillSelect(dom.tone, config.toni);
                    this.fillDataList(dom.argomentiList, config.argomenti);
                    this.updateButtonState(false);
                }
            };

            dom.generate.addEventListener('click', async () => {
                ui.updateButtonState(true);
                dom.output.value = '';

                const params = {
                    macro: dom.macro.value,
                    argomento: dom.argomento.value.trim(),
                    topic: dom.topic.value.trim(),
                    tone: dom.tone.value,
                    wordCount: dom.wordCount.value,
                    includeLinkedIn: dom.includeLinkedIn.checked,
                    includeImage: dom.includeImage.checked
                };

                const userPrompt = [
                    promptBuilder.getCoreInstructions(params),
                    promptBuilder.getFaroContextClause(),
                    promptBuilder.getCalendarClause(params),
                    promptBuilder.getOutputStructure(params)
                ].join('\n\n');

                const systemPrompt = `Sei un esperto di marketing e un copywriter per il settore "${params.macro}". Il tuo compito è generare un post per il blog di Faro srl. La tua risposta deve contenere solo il contenuto richiesto, senza frasi di introduzione o conclusione.`;
                
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent`;
                
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: userPrompt }] }],
                            tools: [{ "google_search": {} }],
                            systemInstruction: { parts: [{ text: systemPrompt }] }
                        })
                    });

                    if (!response.ok) {
                        throw new Error(`Errore HTTP! Stato: ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result?.candidates?.[0]?.content?.parts?.[0]?.text || 'Errore nella generazione del testo. Riprova.';
                    dom.output.value = text;
                } catch (error) {
                    console.error("Errore durante la generazione del contenuto:", error);
                    dom.output.value = `Si è verificato un errore durante la generazione: ${error.message}`;
                } finally {
                    ui.updateButtonState(false);
                }
            });

            dom.copy.addEventListener('click', () => {
                if (dom.output.value) {
                    navigator.clipboard.writeText(dom.output.value)
                        .then(() => alert('Contenuto copiato negli appunti!'))
                        .catch(err => console.error('Errore nella copia:', err));
                }
            });

            dom.download.addEventListener('click', () => {
                if (dom.output.value) {
                    const blob = new Blob([dom.output.value], { type: 'text/plain;charset=utf-8' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    const safeName = `${dom.macro.value}_${dom.topic.value || dom.argomento.value}`.replace(/[^\w-]/g, '_').toLowerCase();
                    a.download = `faro_blog_post_${safeName}.txt`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }
            });

            ui.initialize();
        });
    </script>
</body>
</html>